!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Courier=e()}}(function(){return function e(n,t,i){function r(u,s){if(!t[u]){if(!n[u]){var c="function"==typeof require&&require;if(!s&&c)return c(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var a=t[u]={exports:{}};n[u][0].call(a.exports,function(e){var t=n[u][1][e];return r(t?t:e)},a,a.exports,e,n,t,i)}return t[u].exports}for(var o="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(e,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e){this.subscriptions[e.box]=this.subscriptions[e.box].filter(function(n){return n.id!==e.id}),0===this.subscriptions[e.box].length&&delete this.subscriptions[e.box]}function o(e,n){var t=[];return function(i){return i.forEach(function(n){t.push(n.handler(e))}),n(t)}}function u(e,n){return e&&{}.toString.call(e)==="[object "+n+"]"}var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),c=e("./lib/Subscription"),f=t(c),a=e("./lib/BoxFinder"),l=t(a),h=function(){function e(){i(this,e),this.subscriptions={}}return s(e,[{key:"receive",value:function(e,n){var t=new f.default(e,n);return this.subscriptions[e]=this.subscriptions[e]||[],this.subscriptions[e].push(t),r.bind(this,t)}},{key:"send",value:function(e,n,t,i){i=u(t,"Function")?t:i||function(){},t=u(t,"Object")?t:{throwOnMissing:!0},new l.default(this.subscriptions).withName("all",o(e,i)).dispatch(e,{throwOnMissing:!1}).withName(e,o(n,i)).dispatch(e,t)}},{key:"reset",value:function(){this.subscriptions={}}}]),e}();n.exports=h},{"./lib/BoxFinder":2,"./lib/Subscription":4}],2:[function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();Object.defineProperty(t,"__esModule",{value:!0});var u=e("./ReceiverIterator"),s=i(u),c=e("./helpers"),f=function(){function e(n){r(this,e),this.subscriptions=n}return o(e,[{key:"withName",value:function(e,n){var t,i=new RegExp(e),r=[];for(var o in this.subscriptions)t=new RegExp(c.stringify(o)),(i.exec(c.stringify(o))||t.exec(c.stringify(e)))&&r.push(this.subscriptions[o]);return new s.default(r,n,this)}}]),e}();t.default=f},{"./ReceiverIterator":3,"./helpers":5}],3:[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(n,t,r){i(this,e),this.receivers=n,this.callback=t,this.context=r}return r(e,[{key:"dispatch",value:function(e,n){var t=this;if(0===this.receivers.length&&n.throwOnMissing===!0)throw"Courier: No receiver registered for '"+e+"'";return this.receivers.forEach(function(e){t.callback(e)}),this.context}}]),e}();t.default=o},{}],4:[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=e("./helpers"),o=function u(e,n){i(this,u),this.id="#"+Math.floor(16777215*Math.random()).toString(16),this.box=r.stringify(e),this.handler=n};t.default=o},{"./helpers":5}],5:[function(e,n,t){"use strict";function i(e){return e.toString().replace(/(^\/|\/$)/g,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=i},{}]},{},[1])(1)});
//# sourceMappingURL=courier.min.js.map
