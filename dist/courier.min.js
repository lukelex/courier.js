!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Courier=e()}}(function(){return function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var f="function"==typeof require&&require;if(!s&&f)return f(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var a=n[u]={exports:{}};t[u][0].call(a.exports,function(e){var n=t[u][1][e];return i(n?n:e)},a,a.exports,e,t,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){this.subscriptions[e.box]=this.subscriptions[e.box].filter(function(t){return t.id!==e.id}),0===this.subscriptions[e.box].length&&delete this.subscriptions[e.box]}function u(e,t){var n=[];return function(r){return r.forEach(function(t){n.push(t.handler(e))}),t(n)}}function s(e,t){return e&&{}.toString.call(e)==="[object "+t+"]"}var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var c=e("./lib/Subscription"),a=r(c),l=e("./lib/BoxFinder"),p=r(l),d=function(){function e(){i(this,e),this.subscriptions={}}return f(e,[{key:"receive",value:function(e,t){var n=new a.default(e,t),r=e.toString();return this.subscriptions[r]=this.subscriptions[r]||[],this.subscriptions[r].box=this.subscriptions[r].box||e,this.subscriptions[r].push(n),o.bind(this,n)}},{key:"send",value:function(e,t,n,r){r=s(n,"Function")?n:r||function(){},n=s(n,"Object")?n:{throwOnMissing:!0},new p.default(this.subscriptions).withName("all",u(e,r)).dispatch(e,{throwOnMissing:!1}).withName(e,u(t,r)).dispatch(e,n)}},{key:"reset",value:function(){this.subscriptions={}}}]),e}();n.default=d,t.exports=n["default"]},{"./lib/BoxFinder":2,"./lib/Subscription":4}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return c.typeOf(e)===c.typeOf(t)?"regexp"!==c.typeOf(e)&&e===t:"regexp"===c.typeOf(e)?e.test(t):"regexp"===c.typeOf(t)?t.test(e):void 0}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var s=e("./ReceiverIterator"),f=r(s),c=e("./helpers"),a=function(){function e(t){i(this,e),this.subscriptions=t}return u(e,[{key:"withName",value:function(e,t){var n=this,r=e,i=[];return Object.keys(this.subscriptions).forEach(function(e){var t=n.subscriptions[e].box;o(r,t)&&i.push(n.subscriptions[e])}),new f.default(i,t,this)}}]),e}();n.default=a,t.exports=n["default"]},{"./ReceiverIterator":3,"./helpers":5}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(t,n,i){r(this,e),this.receivers=t,this.callback=n,this.context=i}return i(e,[{key:"dispatch",value:function(e,t){var n=this;if(0===this.receivers.length&&t.throwOnMissing===!0)throw"Courier: No receiver registered for '"+e+"'";return this.receivers.forEach(function(e){n.callback(e)}),this.context}}]),e}();n.default=o,t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t){r(this,o),this.id="#"+Math.floor(16777215*Math.random()).toString(16),this.box=e,this.handler=t};n.default=i,t.exports=n["default"]},{}],5:[function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String?"string":e instanceof RegExp?"regexp":"undefined"==typeof e?"undefined":i(e)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0}),n.typeOf=r},{}]},{},[1])(1)});
//# sourceMappingURL=courier.min.js.map
